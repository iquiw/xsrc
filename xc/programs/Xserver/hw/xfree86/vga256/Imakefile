XCOMM $XConsortium: Imakefile /main/7 1996/01/26 13:54:40 kaleb $





XCOMM $XFree86: xc/programs/Xserver/hw/xfree86/vga256/Imakefile,v 3.11 1996/02/04 09:12:24 dawes Exp $
#include <Server.tmpl>

#define IHaveSubdirs

SUBDIRS = vga drivers vgainit

SRCS = vga/?*.c vgainit/?*.c

OBJS = vga/?*.o vgainit/?*.o

DONES = vga/DONE

INCLUDES = -Ivga -I$(XF86COMSRC) -I$(XF86OSSRC) -I$(SERVERSRC)/include \
           -I$(INCLUDESRC)

VGADRIVERS = XF86SvgaDrivers

#if HasParallelMake
MakeMutex($(SUBDIRS) $(OBJS) $(DONES))
#endif

ConfigTargetNoDepend(vga256Conf,$(ICONFIGFILES),cvga256.SHsuf,$(VGADRIVERS))
#ifdef OS2Architecture
all:: DONE
	cp $(OBJS) .

NormalDepLibraryTarget(vga256,$(DONES),?*.o)
#else
NormalDepLibraryTarget(vga256,$(SUBDIRS) $(DONES),$(OBJS))
#endif

NormalLibraryObjectRule()

ForceSubdirs($(SUBDIRS))

InstallLinkKitLibrary(vga256,$(LINKKITDIR)/drivers)
InstallLinkKitNonExecFile(cvga256.SHsuf,$(LINKKITDIR))

DependSubdirs($(SUBDIRS))

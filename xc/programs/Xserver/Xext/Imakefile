XCOMM $XConsortium: Imakefile /main/51 1995/12/05 09:46:03 dpw $
XCOMM $XFree86: xc/programs/Xserver/Xext/Imakefile,v 3.8 1996/01/24 22:00:06 dawes Exp $
#include <Server.tmpl>

#if HasShm
  SHMSRCS = shm.c
  SHMOBJS = shm.o
#endif

#if BuildScreenSaverExt
  SCRNSAVSRC = saver.c
  SCRNSAVOBJ = saver.o
#endif

#if BuildXF86VidModeExt
 VIDMODESRCS = xf86vmode.c
 VIDMODEOBJS = xf86vmode.o
#endif

#if BuildXF86MiscExt
XF86MISCSRCS = xf86misc.c
XF86MISCOBJS = xf86misc.o
#endif

#if BuildXF86DGA
 XF86DGASRCS = xf86dga.c
 XF86DGAOBJS = xf86dga.o
#endif

       SRCS = shape.c $(SHMSRCS) mbuf.c \
              mitmisc.c xtest.c xtest1di.c xtest1dd.c sleepuntil.c \
	      bigreq.c sync.c $(SCRNSAVSRC) $(VIDMODESRCS) \
	      $(XF86MISCSRCS) $(XF86DGASRCS) xcmisc.c
       OBJS = shape.o $(SHMOBJS) mbuf.o \
              mitmisc.o xtest.o xtest1di.o xtest1dd.o sleepuntil.o \
              bigreq.o sync.o $(SCRNSAVOBJ) $(VIDMODEOBJS) \
	      $(XF86MISCOBJS) $(XF86DGAOBJS) xcmisc.o

XF86INCLUDES = -I../hw/xfree86/common -I../hw/xfree86/os-support
    INCLUDES = -I../include -I$(INCLUDESRC) -I$(EXTINCSRC) $(XF86INCLUDES)
    LINTLIBS = ../dix/llib-ldix.ln ../os/llib-los.ln

NormalLibraryObjectRule()
NormalLibraryTarget(ext,$(OBJS))
LintLibraryTarget(ext,$(SRCS))
NormalLintTarget($(SRCS))

InstallLinkKitLibrary(ext,$(LINKKITDIR)/lib)

DependTarget()
